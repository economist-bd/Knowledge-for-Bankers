<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Knowledge for Bankers' - Md. Moshin Khan</title>
    <link rel="manifest" href="manifest.json">
    <style>
        :root { --primary: #004a99; --secondary: #f8f9fa; --accent: #28a745; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; background: var(--secondary); color: #333; }
        .nav-header { position: sticky; top: 0; background: var(--primary); color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .page { display: none; padding: 20px; max-width: 800px; margin: auto; background: white; min-height: 100vh; animation: fadeIn 0.4s; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .btn { border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer; font-weight: bold; text-decoration: none; display: inline-block; }
        .btn-order { background: var(--accent); color: white; width: 100%; text-align: center; margin: 20px 0; padding: 15px; font-size: 1.2em; }
        
        .index-list { list-style: none; padding: 0; }
        .index-item { padding: 15px; border-bottom: 1px solid #eee; cursor: pointer; display: flex; justify-content: space-between; transition: 0.3s; }
        .index-item:hover { background: #eef; padding-left: 25px; color: var(--primary); }
        
        .topic-box { border-left: 4px solid var(--primary); padding-left: 15px; margin: 15px 0; background: #f0f7ff; padding: 15px; border-radius: 0 8px 8px 0; }
        .qna-box { background: #fff3cd; border: 1px solid #ffeeba; padding: 10px; border-radius: 5px; margin-top: 10px; }
        img { width: 100%; height: auto; border-radius: 8px; margin: 15px 0; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
    </style>
</head>
<body>

<div class="nav-header">
    <div onclick="showPage('index_page')" style="cursor:pointer;">‚ò∞ ‡¶á‡¶®‡¶°‡ßá‡¶ï‡ßç‡¶∏</div>
    <div id="header-title">Bankers' Guide</div>
    <div onclick="showPage('cover_page')" style="cursor:pointer;">üè† ‡¶π‡ßã‡¶Æ</div>
</div>

<div id="main-content">
    <div id="cover_page" class="page active">
        <center>
            <h1 id="main-book-title"></h1>
            <img src="https://i.ibb.co/Lhbv2L6/cover.jpg" alt="Book Cover">
            <h3 id="author-name"></h3>
            <p>‡¶™‡¶¶‡ßã‡¶®‡ßç‡¶®‡¶§‡¶ø ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï‡¶ø‡¶Ç ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡ßü‡¶æ‡¶∞‡ßá‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡¶æ‡¶ô‡ßç‡¶ó ‡¶ó‡¶æ‡¶á‡¶°‡•§</p>
        </center>
        <button class="btn btn-order" onclick="showPage('index_page')">‡¶™‡ßú‡¶æ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        <a href="https://demand-supply.vercel.app" class="btn btn-order">‡¶¨‡¶á‡¶ü‡¶ø ‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</a>
    </div>

    <div id="index_page" class="page">
        <h2>‡¶∏‡ßÇ‡¶ö‡¶ø‡¶™‡¶§‡ßç‡¶∞</h2>
        <ul id="index-list-container" class="index-list"></ul>
    </div>

    <div id="content_display_page" class="page">
        <h2 id="topic-title"></h2>
        <div id="topic-image-container"></div>
        <div id="topic-body" class="topic-box"></div>
        <div id="topic-qna"></div>
        <a href="https://demand-supply.vercel.app" class="btn btn-order">‡¶Ö‡¶∞‡ßç‡¶°‡¶æ‡¶∞ ‡¶®‡¶æ‡¶ì</a>
        <button class="btn" style="background:#666; color:white;" onclick="showPage('index_page')">‡¶∏‡ßÇ‡¶ö‡¶ø‡¶™‡¶§‡ßç‡¶∞‡ßá ‡¶´‡¶ø‡¶∞‡ßÅ‡¶®</button>
    </div>
</div>

<script type="module">
    import bookContent from './content.js';

    // ‡ßß. ‡¶ï‡¶≠‡¶æ‡¶∞ ‡¶™‡ßá‡¶ú ‡¶°‡ßá‡¶ü‡¶æ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
    document.getElementById('main-book-title').innerText = bookContent.bookTitle;
    document.getElementById('author-name').innerText = bookContent.author;

    const indexContainer = document.getElementById('index-list-container');

    // ‡ß®. ‡¶á‡¶®‡¶°‡ßá‡¶ï‡ßç‡¶∏ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ
    function buildIndex() {
        // ‡¶®‡ßÄ‡¶§‡¶ø‡¶∂‡¶æ‡¶∏‡ßç‡¶§‡ßç‡¶∞ ‡¶ì ‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∂‡¶ï‡ßá‡¶∞ ‡¶ï‡¶•‡¶æ ‡¶Ü‡¶ó‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ
        addIndexItem("‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∂‡¶ï‡ßá‡¶∞ ‡¶ï‡¶•‡¶æ", () => renderStatic("intro"));
        addIndexItem("‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï‡¶ø‡¶Ç ‡¶®‡ßÄ‡¶§‡¶ø‡¶∂‡¶æ‡¶∏‡ßç‡¶§‡ßç‡¶∞", () => renderStatic("ethics"));
        addIndexItem("‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï‡¶ø‡¶Ç ‡¶™‡ßç‡¶∞‡¶ö‡¶≤‡¶ø‡¶§ ‡¶∂‡¶¨‡ßç‡¶¶‡¶æ‡¶¨‡¶≤‡ßÄ", () => renderStatic("glossary"));
        addIndexItem("‡¶°‡ßá‡¶Æ‡ßã ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶´‡¶∞‡¶Æ‡ßá‡¶ü", () => renderStatic("emails"));

        // ‡ß´‡ß¶‡¶ü‡¶ø ‡¶ü‡¶™‡¶ø‡¶ï ‡¶≤‡ßÅ‡¶™‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶á‡¶®‡¶°‡ßá‡¶ï‡ßç‡¶∏‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ
        bookContent.topics.forEach((topic, index) => {
            addIndexItem(`${index + 1}. ${topic.title}`, () => renderTopic(topic));
        });
    }

    function addIndexItem(text, action) {
        const li = document.createElement('li');
        li.className = 'index-item';
        li.innerHTML = `<span>${text}</span> <span>‚ñ∂</span>`;
        li.onclick = action;
        indexContainer.appendChild(li);
    }

    // ‡ß©. ‡¶ü‡¶™‡¶ø‡¶ï ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function renderTopic(topic) {
        showPage('content_display_page');
        document.getElementById('topic-title').innerText = topic.title;
        document.getElementById('topic-body').innerHTML = `
            <p><strong>‡¶§‡¶§‡ßç‡¶§‡ßç‡¶¨:</strong> ${topic.theory}</p>
            <p><strong>‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:</strong> ${topic.example || '‡¶™‡ßç‡¶∞‡¶Ø‡ßã‡¶ú‡ßç‡¶Ø ‡¶®‡ßü'}</p>
        `;
        
        // ‡¶õ‡¶¨‡¶ø ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ö‡¶™‡¶∂‡¶® (‡¶Ø‡¶¶‡¶ø ‡¶•‡¶æ‡¶ï‡ßá)
        const imgCont = document.getElementById('topic-image-container');
        imgCont.innerHTML = topic.image ? `<img src="${topic.image}" alt="${topic.title}">` : '';

        // ‡¶Æ‡¶°‡ßá‡¶≤ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™
        let qnaHtml = '<h3>‡¶Æ‡¶°‡ßá‡¶≤ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®‡¶æ‡¶¨‡¶≤‡ßÄ:</h3>';
        topic.qna.forEach(item => {
            qnaHtml += `<div class="qna-box"><strong>‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®:</strong> ${item.q}<br><strong>‡¶â‡¶§‡ßç‡¶§‡¶∞:</strong> ${item.a}</div>`;
        });
        document.getElementById('topic-qna').innerHTML = qnaHtml;
    }

    // ‡ß™. ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶ø‡¶ï ‡¶™‡ßá‡¶ú ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ (‡¶ó‡ßç‡¶≤‡¶∏‡¶æ‡¶∞‡¶ø, ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶á‡¶§‡ßç‡¶Ø‡¶æ‡¶¶‡¶ø)
    function renderStatic(type) {
        showPage('content_display_page');
        const title = document.getElementById('topic-title');
        const body = document.getElementById('topic-body');
        document.getElementById('topic-qna').innerHTML = '';
        document.getElementById('topic-image-container').innerHTML = '';

        if(type === 'glossary') {
            title.innerText = "‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï‡¶ø‡¶Ç ‡¶™‡ßç‡¶∞‡¶ö‡¶≤‡¶ø‡¶§ ‡¶∂‡¶¨‡ßç‡¶¶‡¶æ‡¶¨‡¶≤‡ßÄ";
            let html = '<ul>';
            bookContent.glossary.forEach(item => html += `<li><strong>${item.term}:</strong> ${item.definition}</li>`);
            body.innerHTML = html + '</ul>';
        } else if(type === 'emails') {
            title.innerText = "‡¶°‡ßá‡¶Æ‡ßã ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶´‡¶∞‡¶Æ‡ßá‡¶ü";
            let html = '';
            bookContent.emails.forEach(email => html += `<div class="qna-box"><strong>Subject:</strong> ${email.subject}<br><pre>${email.body}</pre></div>`);
            body.innerHTML = html;
        } else if(type === 'intro') {
            title.innerText = "‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∂‡¶ï‡ßá‡¶∞ ‡¶ï‡¶•‡¶æ";
            body.innerHTML = `<p>${bookContent.intro.publisherNote}</p><h3>‡¶â‡ßé‡¶∏‡¶∞‡ßç‡¶ó:</h3><p>${bookContent.intro.dedication}</p>`;
        } else if(type === 'ethics') {
            title.innerText = "‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï‡¶ø‡¶Ç ‡¶¶‡¶∞‡ßç‡¶∂‡¶® ‡¶ì ‡¶®‡ßÄ‡¶§‡¶ø‡¶∂‡¶æ‡¶∏‡ßç‡¶§‡ßç‡¶∞";
            body.innerHTML = `<h3>‡¶¶‡¶∞‡ßç‡¶∂‡¶®:</h3><ul>${bookContent.ethics.philosophy.map(p => `<li>${p}</li>`).join('')}</ul>
                              <h3>‡¶Æ‡¶æ‡¶®‡¶¶‡¶£‡ßç‡¶°:</h3><ul>${bookContent.ethics.standards.map(s => `<li>${s}</li>`).join('')}</ul>`;
        }
    }

    window.showPage = function(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        window.scrollTo(0,0);
    }

    buildIndex();

    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => navigator.serviceWorker.register('sw.js'));
    }
</script>
</body>
</html>

